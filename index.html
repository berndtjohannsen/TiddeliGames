<!-- Main game selection page -->
<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>TiddeliGames</title>
    <!-- PWA manifest & theme color -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#000000">
    <!-- Favicon (uses existing PWA icon as fallback) -->
    <link rel="icon" type="image/png" href="assets/icons/icon-192.png">
    <!-- Tailwind CSS (generated) -->
    <link rel="stylesheet" href="css/tailwind.output.css">
    <!-- Custom styles -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/animations.css">
</head>
<body class="bg-gradient-to-br from-blue-100 to-purple-100 min-h-screen">
    <!-- Update banner (hidden by default) -->
    <!-- Modal overlay for update (blocks interaction) -->
    <div id="update-overlay" class="hidden fixed inset-0 bg-black/30 backdrop-blur-sm z-40"></div>

    <div id="update-banner" class="hidden fixed top-3 left-1/2 -translate-x-1/2 bg-white/95 backdrop-blur border border-gray-200 shadow-lg rounded-full px-4 py-2 text-sm text-gray-700 flex items-center gap-3 z-50 max-w-[calc(100vw-1rem)] box-border">
        <span id="update-banner-text"></span>
        <button id="update-reload-btn" class="text-blue-600 hover:text-blue-800 font-medium border-none bg-transparent outline-none focus:outline-none focus:ring-0 p-0 cursor-pointer"></button>
    </div>
    <!-- Discrete Install App button (top-right, shown conditionally) -->
    <button
        id="install-btn"
        class="hidden fixed top-3 right-3 text-xs text-gray-500 hover:text-gray-700 bg-white/80 backdrop-blur px-2.5 py-2 rounded-full shadow-sm transition flex items-center gap-1.5"
        aria-label="Install App"
        title="Install App">
        <span class="text-xs font-medium">Install App</span>
        <!-- Install/Download icon (inline SVG, MIT-friendly) -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
            <path d="M12 3.75a.75.75 0 0 1 .75.75v7.19l2.47-2.47a.75.75 0 1 1 1.06 1.06l-3.75 3.75a.75.75 0 0 1-1.06 0l-3.75-3.75a.75.75 0 1 1 1.06-1.06l2.47 2.47V4.5a.75.75 0 0 1 .75-.75Z"/>
            <path d="M3.75 15a3.75 3.75 0 0 1 3.75-3.75h.75a.75.75 0 0 1 0 1.5H7.5A2.25 2.25 0 0 0 5.25 15v1.5A2.25 2.25 0 0 0 7.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25V15a2.25 2.25 0 0 0-2.25-2.25h-.75a.75.75 0 0 1 0-1.5h.75A3.75 3.75 0 0 1 20.25 15v1.5A3.75 3.75 0 0 1 16.5 20.25h-9A3.75 3.75 0 0 1 3.75 16.5V15Z"/>
        </svg>
    </button>
    <!-- Main container -->
    <div class="container mx-auto px-4 py-8 min-h-screen flex flex-col">
        <!-- Header -->
        <header class="text-center mb-8 pt-12 sm:pt-14">
            <!-- Volume control in top left, aligned with download button -->
            <div class="fixed top-3 left-3 flex items-center gap-2 bg-white/80 backdrop-blur px-3 py-1.5 rounded-full shadow-sm z-10">
                <button id="mute-button" type="button" class="p-0 border-0 bg-transparent cursor-pointer outline-none focus:outline-none" aria-label="Mute/Unmute">
                    <!-- Unmuted icon (shown when not muted) -->
                    <svg id="volume-icon-unmuted" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4 text-gray-600">
                        <path d="M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM18.584 5.106a.75.75 0 0 1 1.06 0c3.808 3.807 3.808 9.98 0 13.788a.75.75 0 1 1-1.06-1.06 8.25 8.25 0 0 0 0-11.668.75.75 0 0 1 0-1.06Z"/>
                        <path d="M15.932 7.757a.75.75 0 0 1 1.061 0 6 6 0 0 1 0 8.486.75.75 0 0 1-1.06-1.061 4.5 4.5 0 0 0 0-6.364.75.75 0 0 1 0-1.06Z"/>
                    </svg>
                    <!-- Muted icon (hidden when not muted) -->
                    <svg id="volume-icon-muted" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4 text-gray-600 hidden">
                        <path d="M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06Z"/>
                        <path d="M1.22 1.22a.75.75 0 0 1 1.06 0L22.78 22.78a.75.75 0 1 1-1.06 1.06L2.28 2.28a.75.75 0 0 1 0-1.06Z"/>
                    </svg>
                </button>
                <input 
                    type="range" 
                    id="volume-slider" 
                    min="0" 
                    max="100" 
                    value="35" 
                    class="w-24 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"
                    aria-label="Volym"
                />
                <span id="volume-display" class="text-xs text-gray-600 w-6 text-right">35%</span>
            </div>
            <h1 id="main-title" class="text-5xl font-bold text-gray-800 mb-2"></h1>
            <p id="main-subtitle" class="text-xl text-gray-600"></p>
        </header>

        <!-- Game selection grid -->
        <main class="flex-grow flex items-center justify-center">
            <div id="game-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-4xl">
                <!-- Game cards will be inserted here by JavaScript -->
            </div>
        </main>

        <!-- Footer with version -->
        <footer class="mt-8 flex flex-col items-center gap-2">
            <!-- Version number (discrete) -->
            <div id="version-display" class="text-xs text-gray-400">
                <!-- Version will be inserted here by JavaScript -->
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/strings.js"></script>
    <script src="js/volume-control.js"></script>
    <script src="js/app.js"></script>
    <script src="js/pwa.js"></script>
    <script src="js/game-selector.js"></script>
</body>
</html>

