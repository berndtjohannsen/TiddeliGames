/* Wrapper ensures comfortable margins and safe area spacing */
.game-wrapper {
    padding: 1rem;
    max-width: 960px;
    margin: 0 auto;
    width: 100%;
}

/* Header arranges back button, title, and timer neatly */
.game-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.75rem;
    margin-bottom: 0.85rem;
}

/* Back button uses soft colors and large touch target */
.back-button {
    background: #38bdf8;
    color: #0f172a;
    font-weight: 700;
    padding: 0.75rem 1.25rem;
    border-radius: 9999px;
    text-decoration: none;
    font-size: 1.25rem;
    box-shadow: 0 8px 0 rgba(24, 56, 135, 0.28), 0 20px 26px rgba(24, 56, 135, 0.18);
    transition: transform 150ms ease, box-shadow 150ms ease;
}

/* Button press effect */
.back-button:active {
    transform: translateY(3px);
    box-shadow: 0 5px 0 rgba(24, 56, 135, 0.32), 0 12px 18px rgba(24, 56, 135, 0.2);
}

/* Inline instructions between back button and timer */
.header-instructions {
    flex: 1;
    text-align: center;
    font-size: clamp(1.05rem, 3vw, 1.35rem);
    font-weight: 600;
    color: #1e1b4b;
    background: rgba(255, 255, 255, 0.75);
    padding: 0.55rem 1rem;
    border-radius: 9999px;
    box-shadow: 0 6px 0 rgba(30, 64, 175, 0.19), 0 18px 26px rgba(30, 64, 175, 0.18);
}

/* Timer styled like a digital badge */
.timer {
    background: #facc15;
    color: #0f172a;
    font-weight: 700;
    padding: 0.75rem 1.5rem;
    border-radius: 1.5rem;
    min-width: 5rem;
    text-align: center;
    font-size: 1.5rem;
    box-shadow: 0 7px 0 rgba(202, 138, 4, 0.28), 0 22px 30px rgba(250, 204, 21, 0.28);
}

/* Control panel groups instruction and start button */
.control-panel {
    display: flex;
    flex-direction: column;
    gap: 0.9rem;
    align-items: center;
    margin-bottom: 1.4rem;
    padding: 0;
    background: transparent;
    box-shadow: none;
    border-radius: 0;
}

/* Hidden state keeps space to avoid layout shift while concealing content */
.control-panel--hidden {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
}

/* Instruction text is short and large for kids */
.instructions {
    font-size: 1.5rem;
    font-weight: 600;
    color: #312e81;
    text-align: center;
    margin-bottom: 1rem;
}

/* Start button uses bright friendly colors */
.start-button {
    display: block;
    margin: 0 auto;
    background: linear-gradient(135deg, #22c55e, #16a34a);
    color: #ffffff;
    font-size: 1.35rem;
    font-weight: 700;
    padding: 0.68rem 1.75rem;
    border: none;
    border-radius: 9999px;
    cursor: pointer;
    box-shadow: 0 8px 0 rgba(15, 118, 110, 0.4), 0 24px 32px rgba(15, 118, 110, 0.32);
    transition: transform 150ms ease, box-shadow 150ms ease;
}

/* Button press animation */
.start-button:active,
.play-again-button:active {
    transform: translateY(4px);
    box-shadow: 0 5px 0 rgba(15, 118, 110, 0.38), 0 14px 18px rgba(15, 118, 110, 0.3);
}

/* Game area uses relative positioning for circle placement */
.game-area {
    position: relative;
    width: 100%;
    height: clamp(420px, 70vh, 620px);
    background: rgba(255, 255, 255, 0.85);
    border-radius: 1.5rem;
    box-shadow: inset 0 0 25px rgba(30, 64, 175, 0.12);
    overflow: hidden;
}

/* Each circle is absolutely positioned */
/* Playful, bubbly circles */
.circle {
    position: absolute;
    width: clamp(72px, 12vw, 108px);
    height: clamp(72px, 12vw, 108px);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: clamp(1.8rem, 5.5vw, 2.75rem);
    font-weight: 800;
    color: #0f172a;
    cursor: pointer;
    user-select: none;
    box-shadow: 0 14px 24px rgba(15, 23, 42, 0.25);
    transition: transform 180ms ease, box-shadow 180ms ease, opacity 180ms ease;
    border: 4px solid rgba(255, 255, 255, 0.45);
    overflow: hidden;
    animation: floaty 7s ease-in-out infinite;
    animation-delay: calc(var(--float-phase, 0) * 1s);
}

.circle::after {
    content: "";
    position: absolute;
    top: 12%;
    left: 22%;
    width: 40%;
    height: 40%;
    background: radial-gradient(circle, rgba(255,255,255,0.7) 0%, rgba(255,255,255,0) 70%);
    border-radius: 50%;
    transform: rotate(-20deg);
    opacity: 0.8;
    pointer-events: none;
}

/* Colourful gradient background for circles */
.circle:nth-child(5n + 1) {
    background: conic-gradient(from 180deg at 50% 50%, #fbbf24 0deg, #f97316 120deg, #fb7185 240deg, #fbbf24 360deg);
    --float-phase: 0.2;
}

.circle:nth-child(5n + 2) {
    background: conic-gradient(from 90deg at 50% 50%, #a855f7 0deg, #22d3ee 140deg, #60a5fa 260deg, #a855f7 360deg);
    --float-phase: 0.6;
}

.circle:nth-child(5n + 3) {
    background: conic-gradient(from 45deg at 50% 50%, #34d399 0deg, #bef264 150deg, #38bdf8 280deg, #34d399 360deg);
    --float-phase: 1.1;
}

.circle:nth-child(5n + 4) {
    background: conic-gradient(from 0deg at 50% 50%, #f472b6 0deg, #f9a8d4 160deg, #facc15 280deg, #f472b6 360deg);
    --float-phase: 1.7;
}

.circle:nth-child(5n) {
    background: conic-gradient(from 270deg at 50% 50%, #22c55e 0deg, #84cc16 130deg, #14b8a6 260deg, #22c55e 360deg);
    --float-phase: 2.3;
}

/* Circle hover feedback for desktop */
.circle:hover {
    transform: scale(1.1) rotate(-2deg);
    box-shadow: 0 18px 26px rgba(14, 116, 144, 0.35);
}

/* Correctly tapped circles gently fade */
.circle.correct {
    background: conic-gradient(from 0deg at 50% 50%, #34d399 0deg, #22d3ee 120deg, #60a5fa 240deg, #34d399 360deg);
    color: #064e3b;
    opacity: 0.9;
    transform: scale(1.05);
    animation: pop-burst 320ms ease-out forwards;
}

/* Play again button shares style with start button */
.play-again-button {
    background: linear-gradient(135deg, #a855f7, #7c3aed);
    color: #ffffff;
    font-size: 1.25rem;
    font-weight: 700;
    padding: 0.65rem 1.6rem;
    border: none;
    border-radius: 9999px;
    cursor: pointer;
    box-shadow: 0 8px 0 rgba(109, 40, 217, 0.42), 0 24px 32px rgba(109, 40, 217, 0.28);
    transition: transform 150ms ease, box-shadow 150ms ease;
}

/* Responsive adjustments for very small screens */
@media (max-width: 480px) {
    .back-button {
        font-size: 1.1rem;
        padding: 0.6rem 1rem;
    }

    .timer {
        font-size: 1.3rem;
        padding: 0.6rem 1.2rem;
    }

    .instructions {
        font-size: 1.3rem;
    }
}

@keyframes floaty {
    0% { transform: translate(0, 0) scale(1) rotate(0deg); }
    20% { transform: translate(3px, -6px) scale(1.02) rotate(-0.8deg); }
    40% { transform: translate(-4px, 2px) scale(0.99) rotate(0.9deg); }
    60% { transform: translate(5px, -3px) scale(1.01) rotate(-0.5deg); }
    80% { transform: translate(-3px, 4px) scale(1.02) rotate(0.6deg); }
    100% { transform: translate(0, 0) scale(1) rotate(0deg); }
}

@keyframes pop-burst {
    0% { box-shadow: 0 14px 24px rgba(15, 23, 42, 0.25); }
    60% { box-shadow: 0 20px 32px rgba(34, 197, 94, 0.45); }
    100% { box-shadow: 0 12px 18px rgba(15, 23, 42, 0.18); }
}

